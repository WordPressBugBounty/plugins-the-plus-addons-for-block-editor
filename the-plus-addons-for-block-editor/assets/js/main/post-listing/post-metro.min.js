function tppoMetro(t){var o=t.querySelectorAll(".tpgb-metro");0<o.length&&o.forEach(function(t){tpgbMetroLayout(t)}),"function"==typeof tpFilter&&tpFilter(t)}function tpgbMetroLayout(t){var n,i,o=t.getAttribute("data-id"),s=JSON.parse(t.getAttribute("data-metroAttr")),r=window.innerWidth,c=1024<=r,a=768<=r&&r<1024,l=r<768,e="",m=window;c&&s.metro_col&&(e=s.metro_col),a&&s.tab_metro_col&&(e=s.tab_metro_col),l&&s.mobile_metro_col&&(e=s.mobile_metro_col),"3"==e&&(n=Math.floor(+t.offsetWidth/3),i=2*n,t.querySelectorAll(".grid-item").forEach(function(t){var o=n,e=n;(c&&"style-1"==s.metro_style||a&&"style-1"==s.tab_metro_style||l&&"style-1"==s.mobile_metro_style)&&((c&&(t.classList.contains("tpgb-metro-1")||t.classList.contains("tpgb-metro-7"))||a&&(t.classList.contains("tpgb-tab-metro-1")||t.classList.contains("tpgb-tab-metro-7"))||l&&(t.classList.contains("tpgb-mobile-metro-1")||t.classList.contains("tpgb-mobile-metro-7")))&&(e=o=i),(c&&(t.classList.contains("tpgb-metro-4")||t.classList.contains("tpgb-metro-9"))||a&&(t.classList.contains("tpgb-tab-metro-4")||t.classList.contains("tpgb-tab-metro-9"))||l&&(t.classList.contains("tpgb-mobile-metro-4")||t.classList.contains("tpgb-mobile-metro-9")))&&(o=i,e=n)),r<768?(t.style.width="100%",t.style.height=2*i+"px"):(t.style.width=o+"px",t.style.height=e+"px")})),t.classList.contains("tpgb-metro")&&(e=document.querySelector(".tpgb-block-"+o).querySelector(".post-loop-inner"),o={itemSelector:".grid-item",layoutMode:"masonry",masonry:{columnWidth:n}},t?(m.innerWidth,new Isotope(e,o)):new Isotope(e,{layoutMode:"masonry",masonry:{columnWidth:n}}),"function"==typeof e.isotope&&e.isotope("layout"))}document.addEventListener("DOMContentLoaded",function(){tppoMetro(document)}),window.addEventListener("resize",function(){tppoMetro(document)}),document.body.addEventListener("post-load",function(){setTimeout(function(){tppoMetro(document)},800)}),document.body.addEventListener("resort-isotope",function(){setTimeout(function(){tppoMetro(document)},800)}),document.body.addEventListener("tabs-reinited",function(){setTimeout(function(){tppoMetro(document)},800)}),document.body.addEventListener("isotope-sorted",function(){setTimeout(function(){tppoMetro(document)},500)});