document.addEventListener("DOMContentLoaded",function(){tppoMetro(document)}),window.addEventListener("resize",function(){tppoMetro(document)}),document.body.addEventListener("post-load",function(){setTimeout(function(){tppoMetro(document)},800)}),document.body.addEventListener("resort-isotope",function(){setTimeout(function(){tppoMetro(document)},800)}),document.body.addEventListener("tabs-reinited",function(){setTimeout(function(){tppoMetro(document)},800)}),document.body.addEventListener("isotope-sorted",function(){setTimeout(function(){tppoMetro(document)},500)});function tppoMetro(a){var b=a.querySelectorAll(".tpgb-metro");0<b.length&&b.forEach(function(a){tpgbMetroLayout(a)}),"function"==typeof tpFilter&&tpFilter(a)}function tpgbMetroLayout(a){var b=a.getAttribute("data-id"),c=JSON.parse(a.getAttribute("data-metroAttr")),d=window.innerWidth,e=1024<=d,f=768<=d&&1024>d,g=768>d,h="",i=window;if(e&&c.metro_col&&(h=c.metro_col),f&&c.tab_metro_col&&(h=c.tab_metro_col),g&&c.mobile_metro_col&&(h=c.mobile_metro_col),"3"==h){var j=Math.floor((a.offsetWidth-0)/3),k=2*j;a.querySelectorAll(".grid-item").forEach(function(a){var b=j,h=j;(e&&"style-1"==c.metro_style||f&&"style-1"==c.tab_metro_style||g&&"style-1"==c.mobile_metro_style)&&((e&&(a.classList.contains("tpgb-metro-1")||a.classList.contains("tpgb-metro-7"))||f&&(a.classList.contains("tpgb-tab-metro-1")||a.classList.contains("tpgb-tab-metro-7"))||g&&(a.classList.contains("tpgb-mobile-metro-1")||a.classList.contains("tpgb-mobile-metro-7")))&&(b=k,h=k),(e&&(a.classList.contains("tpgb-metro-4")||a.classList.contains("tpgb-metro-9"))||f&&(a.classList.contains("tpgb-tab-metro-4")||a.classList.contains("tpgb-tab-metro-9"))||g&&(a.classList.contains("tpgb-mobile-metro-4")||a.classList.contains("tpgb-mobile-metro-9")))&&(b=k,h=j)),768>d?(a.style.width="100%",a.style.height=2*k+"px"):(a.style.width=b+"px",a.style.height=h+"px")})}if(a.classList.contains("tpgb-metro")){var l=document.querySelector(".tpgb-block-"+b),m=l.querySelector(".post-loop-inner");let c={itemSelector:".grid-item",layoutMode:"masonry",masonry:{columnWidth:j}};a?767<i.innerWidth?new Isotope(m,c):new Isotope(m,c):new Isotope(m,{layoutMode:"masonry",masonry:{columnWidth:j}}),"function"==typeof m.isotope&&m.isotope("layout")}}