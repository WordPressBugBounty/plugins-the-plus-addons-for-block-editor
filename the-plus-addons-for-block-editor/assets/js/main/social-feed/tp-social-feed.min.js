document.addEventListener("DOMContentLoaded",()=>{tpsocialFeed(document)});function tpsocialFeed(){let a=document.querySelectorAll(".tpgb-social-feed");a&&a.forEach(a=>{function b(c){var d=c.target;if(d.classList.contains("readbtn")&&d.closest(".tpgb-social-feed")){let b=d.closest(".tpgb-social-feed"),c=d.getAttribute("aria-label");var f=d.closest(".tpgb-message"),g=f.closest(".tpgb-isotope .post-loop-inner"),h=e,i=f.querySelector(".showtext");if(f.classList.contains("show-text"))f.classList.remove("show-text","show-less"),d.innerHTML=c,f.querySelector(".sf-dots").style.display="inline",!0===h.ScrollOn&&!0===h.TextLimit&&(i.classList.remove(h.className),i.removeAttribute("style"));else{f.classList.add("show-text","show-less"),d.innerHTML="Show Less",f.querySelector(".sf-dots").style.display="none";var j=a.querySelectorAll(".showtext");!0===h.ScrollOn&&!0===h.TextLimit&&j&&j.forEach(function(a){a.clientHeight>=h.Height&&(i.classList.add(h.className),i.style.height=h.Height+"px")})}if(g){var k=new Isotope(g,{itemSelector:".grid-item",resizable:!0,sortBy:"original-order"});k.layout()}}if(d.classList.contains("readbtn")&&d.closest(".fancybox-si")){let a=d.closest(".tpgb-message"),b=e,c=d.closest(".tpgb-message");a.classList.contains("show-text")?(a.classList.remove("show-text","show-less"),d.innerHTML="Show More",a.querySelector(".sf-dots").style.display="inline","true"===b.FancyScroll&&"true"===b.TextLimit&&(c.classList.remove(b.Fancyclass),c.removeAttribute("style"))):(a.classList.add("show-text","show-less"),d.innerHTML="Show Less",a.querySelector(".sf-dots").style.display="none","true"===b.FancyScroll&&"true"===b.TextLimit&&Array.from(c).forEach(function(a){a.clientHeight>=b.FancyHeight&&(a.classList.add(b.Fancyclass),a.style.height=b.FancyHeight+"px")}))}this.removeEventListener("click",()=>{b(c)})}let c=a.getAttribute("data-id"),d=a.getAttribute("data-fancy-option")?JSON.parse(a.getAttribute("data-fancy-option")):"",e=a.getAttribute("data-scroll-normal")?JSON.parse(a.getAttribute("data-scroll-normal")):"",f={Carousel:{infinite:d.loop,transition:d.transitionEffect},Toolbar:{display:{right:d.button}},contentClick:d.clickContent};d.arrows||(f.Carousel.Navigation=!1),f.Thumbs=!1,Fancybox.bind("[data-fancybox=\""+c+"\"]",f);let g=a.querySelectorAll(".grid-item.feed-Facebook");if(g&&g.forEach(a=>{let b=a.getAttribute("data-index");Fancybox.bind("[data-fancybox=\"album-"+b+"-"+c+"\"]",f)}),e&&!0===e.ScrollOn&&!1===e.TextLimit){let b=a.querySelectorAll(".tpgb-message");b&&b.forEach(function(a){a.clientHeight>=e.Height&&(a.classList.add(e.className),a.style.height=e.Height+"px")})}if(!0===e.FancyScroll&&!1===e.TextLimit){let b=a.querySelectorAll(".fancybox-si .tpgb-message");b.forEach(function(a){a.classList.add(e.Fancyclass),a.style.height=e.FancyHeight+"px"})}document.addEventListener("click",function(a){b(a)})})}